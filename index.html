<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/stylesheets/gits.css" rel="stylesheet" />
    <link href="/stylesheets/syntax.css" rel="stylesheet" />
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
    <title>GHOST IN THE SUIT</title><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>
    <div class="header">
      <div class="container">
        <h1 class="site_title">
          <a href="/">GHOST IN THE SUIT</a>
        </h1>
        <p>
          Excelの泥にまみれても、こころの奥にgeekの灯を。
        </p>
      </div>
    </div>
    <div class="container main">
      <div class="row">
        <div class="col-sm-9">
          <div id="main" role="main">
<article>
  <div class="title">
    <div class="subject">
      <a href="/2013/12/05/transfer-from-octopress-to-middleman/">OctopressからMiddlemanに移行した</a>
    </div>
    <div class="date">
      Dec  5, 2013
    </div>
  </div>
  <div class="body">
    <p>今年のはじめにWordpressからOctopressに移行したけど、結局ブログを書くようにはならなかったよ&hellip;
    Middlemanを見てみたらよさげだったので、もう一度書き始めるきっかけに再度移行してみた。</p>
    
    <h2 id="toc_0">Octopressでしっくり来なかったところ</h2>
    
    <ul>
    <li>テンプレートエンジンに挫折<br>
    Liquidの記法が絶望的に覚えられない&hellip;</li>
    <li>ファイル構成<br>
    Octopressはgem/コマンドラインでの管理ツールが提供されておらず、cloneしたOctopressそのものからブログを構築していく。
    Octopress自体のバージョンアップをしたい場合はpullして持ってくることになる。
    本文以外のところのタグを変更しようとしてプラグインを独自にいじっているとOctopress本体の更新とのコンフリクトが厳しい。</li>
    </ul>
    
    <h2 id="toc_1">Middlemanを触ってみて</h2>
    
    <h3 id="toc_2">よさげなところ</h3>
    
    <ul>
    <li>構成が単純<br>
    sources以下にテンプレートやassetsを放り込んでいけばOK</li>
    <li>Railsライク<br>
    ヘルパー名やディレクトリ構成等、明らかにRailsを意識して作っている感じ。
    いいか悪いかはともかく、Railsユーザには直観が働くようにできている。</li>
    <li>好きなテンプレートエンジンが選べる<br>
    今回は初<a href="http://slim-lang.com">Slim</a>にしてみた。</li>
    <li>マルチブログが簡単<br>
    Webサーバの設定に頼ることなく、複数ブログが簡単につくれる。</li>
    </ul>
    
    <h3 id="toc_3">いまいちなところ</h3>
    
    <ul>
    <li><p>ブログ機能自体は貧弱<br>
    主眼は静的サイトジェネレータなので、
    middleman-blog が提供する機能は記事管理/タグ付け/年別アーカイブ/ページネーションぐらい。
    cssもデフォルトだとなし。プロジェクト生成直後に見える画面↓なのは流石にどうだろう&hellip;</p>
    
    <p><a href="http://www.flickr.com/photos/uskanda/11209451975/" title="middleman-blog-default by uskanda, on Flickr"><img src="http://farm6.staticflickr.com/5493/11209451975_540c5f2e83_n.jpg" width="320" height="183" alt="middleman-blog-default"></a></p></li>
    <li><p>デプロイ設定
    github-pagesを強く意識しているOctopressよりはデプロイ設定が面倒な感じ。</p></li>
    </ul>
    
  </div>
</article>
<article>
  <div class="title">
    <div class="subject">
      <a href="/2012/01/01/example-article/">Example Article</a>
    </div>
    <div class="date">
      Jan  1, 2012
    </div>
  </div>
  <div class="body">
    <p>This is an example article. You probably want to delete it and write your own articles!</p>
    
  </div>
</article>
<article>
  <div class="title">
    <div class="subject">
      <a href="/2011/12/04/agile-development-with-rails-4th-ed/">RailsによるアジャイルWebアプリケーション開発 第4版が出てたので買った</a>
    </div>
    <div class="date">
      Dec  4, 2011
    </div>
  </div>
  <div class="body">
    <p>今まで高かったから実は買ったことなかったRailsのバイブル。&hellip;昔4000円台だったよね？
    <a href="http://estore.ohmsha.co.jp/titles/978427406866P">PDF</a>版がすぐ出てくれるのはすごくありがたい。</p>
    
    <p>まとめて読む時間は取れそうにないけど、気がついたところは箇条書きでここにメモっていこう。とりあえずはこまかいところ&hellip;
    <ul>
      <li>Rails3.1はRuby1.9利用時はScaffoldでRuby1.9のハッシュ記法を使う。あれ？そうだっけ？っと思って試してみたらホントだった</li>
      <li>link_toの飛び先をcontroller, action, idのハッシュで指定する記法は載ってすらいない</li>
    </ul></p>
    
    <iframe src="http://rcm-jp.amazon.co.jp/e/cm?lt1=_blank&bc1=000000&IS2=1&bg1=FFFFFF&fc1=000000&lc1=0000FF&t=uasmks-22&o=9&p=8&l=as4&m=amazon&f=ifr&ref=ss_til&asins=4274068668" style="width:120px;height:240px;" scrolling="no" marginwidth="0" marginheight="0" frameborder="0"></iframe>
    
  </div>
</article>
<article>
  <div class="title">
    <div class="subject">
      <a href="/2011/12/03/fix-yasnippet-when-using-col-highlight/">yasnippet(dropdown-list)が列ハイライト利用時にも表示が崩れないようにする</a>
    </div>
    <div class="date">
      Dec  3, 2011
    </div>
  </div>
  <div class="body">
    <p>数年ぶりに設定を見直し中なので、どこまでもEmacs小ネタ。
    yasnippetの補完候補表示等に利用されるdropdown-listの表示が
    現在のカーソル位置の列をハイライトするcol-highlight利用時に崩れるので、
    dropdown-list利用時にcol-highlightを一時停止するようにした。
    <script src="https://gist.github.com/1424152.js"> </script></p>
    
  </div>
</article>
<article>
  <div class="title">
    <div class="subject">
      <a href="/2011/12/02/rvm-rinari/">.rvmrcを使っているRailsプロジェクトでrinariからrails server,consoleを呼ぶ</a>
    </div>
    <div class="date">
      Dec  2, 2011
    </div>
  </div>
  <div class="body">
    <p>RVMで通常利用(rvm use &ndash;default)している以外のRubyを.rvmrcで指定している<br>
    Railsプロジェクトで、rinariをそのまま使うとEmacsからのserver, console呼び出しができないので、<br>
    力技でRVMを変更することにした。    </p>
    
    <script src="https://gist.github.com/1390182.js"> </script>
    
    <p>rvm.elとrinari前提。    </p>
    
  </div>
</article>
<article>
  <div class="title">
    <div class="subject">
      <a href="/2011/11/20/anything-spotlight/">anythingのspotlight検索項目でバイナリファイルを開くときにMacアプリケーションを使う</a>
    </div>
    <div class="date">
      Nov 20, 2011
    </div>
  </div>
  <div class="body">
    <p>Spotlightの検索結果PDFを直接Preview.appで開きたいんでつくったー。<br>
    <script src="https://gist.github.com/1379387.js"> </script><br>
    Macアプリケーションで開きたい拡張子をanything-c-source-mac-spotlight2-open-file-extensionsに加える。<br>
    anything-c-source-mac-spotlight2をanythingのanything-c-source-mac-spotlightの代わりにsourceとして使えばOK。<br>
    ファイル開く動作全般に適用しようかとも思ったけど、PDFや画像を開くケースってspotlight検索ぐらいな気がしたので、<br>
    ひとまず満足。</p>
    
  </div>
</article>
<article>
  <div class="title">
    <div class="subject">
      <a href="/2011/06/22/use-multiple-ruby-with-passenger/">RVM+PassengerでRuby1.8系と1.9系を同時利用する</a>
    </div>
    <div class="date">
      Jun 22, 2011
    </div>
  </div>
  <div class="body"><p>半年前に書いたものがアップせずに残ってたorz<br>
一応あげておこう。。。    </p>

<p>RedmineはまだRuby1.8/Rails2系しか対応してないからRuby1.8を使わなきゃいけないけど、<br>
他のRailsアプリはRuby1.9で動作させるようにしたい！というわけで<br>
Passengerで複数のRubyを使ってアプリを動かす方法を探したら、<br>
そのまんまの記事がPassenger公式に上がってた。    </p>

<p><a title="Permanent link to Phusion Passenger &amp; running multiple Ruby versions" rel="bookmark" href="http://blog.phusion.nl/2010/09/21/phusion-passenger-running-multiple-ruby-versions/">Phusion Passenger &amp; running multiple Ruby versions</a>    </p>

<p>Passengerはnginx利用で単体起動する機能があるようで、<br>
&ldquo;passenger start&quot;でnginxインストールから起動までやってくれる。<br>
standaloneの場合、これで立ち上がったPassengerに大して、メインのApache/nginxのリバースプロキシでアクセスする。<br>
rc.localに自動起動のための設定を書いた。    </p>
<pre class="highlight text">su - $USERNAME -c &quot;    
cd /webapps/redmine    
rvm use 1.8.7-head    
passenger start -a 127.0.0.1 -p 3000 -e production -d    
rvm use 1.9.2-head&quot;
</pre>
  </div>
</article>
<article>
  <div class="title">
    <div class="subject">
      <a href="/2011/06/10/hello-world/">何度目かのブログ作りをするよー</a>
    </div>
    <div class="date">
      Jun 10, 2011
    </div>
  </div>
  <div class="body">
    <p>自分の整理のためにも、ブログでやったことを整理することにしました。</p>
    
  </div>
</article>
          </div>
        </div>
        <div class="col-sm-3">
          <aside>
            <div class="gadget" id="recents">
              <span class="title">最近の投稿</span>
              <ol>
                <li>
                  <a href="/2013/12/05/transfer-from-octopress-to-middleman/">OctopressからMiddlemanに移行した(12/05)</a>
                </li>
                <li>
                  <a href="/2012/01/01/example-article/">Example Article(01/01)</a>
                </li>
                <li>
                  <a href="/2011/12/04/agile-development-with-rails-4th-ed/">RailsによるアジャイルWebアプリケーション開発 第4版が出てたので買った(12/04)</a>
                </li>
                <li>
                  <a href="/2011/12/03/fix-yasnippet-when-using-col-highlight/">yasnippet(dropdown-list)が列ハイライト利用時にも表示が崩れないようにする(12/03)</a>
                </li>
                <li>
                  <a href="/2011/12/02/rvm-rinari/">.rvmrcを使っているRailsプロジェクトでrinariからrails server,consoleを呼ぶ(12/02)</a>
                </li>
                <li>
                  <a href="/2011/11/20/anything-spotlight/">anythingのspotlight検索項目でバイナリファイルを開くときにMacアプリケーションを使う(11/20)</a>
                </li>
                <li>
                  <a href="/2011/06/22/use-multiple-ruby-with-passenger/">RVM+PassengerでRuby1.8系と1.9系を同時利用する(06/22)</a>
                </li>
                <li>
                  <a href="/2011/06/10/hello-world/">何度目かのブログ作りをするよー(06/10)</a>
                </li>
              </ol>
            </div>
            <div class="gadget" id="adsense">
              <script>
                async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
              </script>
              <ins class="adsbygoogle" data-ad-client="ca-pub-1385530273298456" data-ad-slot="9191807793" style="display:inline-block;width:200px;height:200px"></ins>
              <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
            </div>
            <div class="gadget" id="tags">
              <span class="title">タグ一覧</span>
              <ol>
                <li>
                  <a href="/tags/book/">Book</a> (1)
                </li>
                <li>
                  <a href="/tags/ruby-on-rails/">Ruby on Rails</a> (2)
                </li>
                <li>
                  <a href="/tags/ruby/">Ruby</a> (3)
                </li>
                <li>
                  <a href="/tags/emacs/">Emacs</a> (2)
                </li>
                <li>
                  <a href="/tags/anything-el/">anything.el</a> (1)
                </li>
                <li>
                  <a href="/tags/rvm/">RVM</a> (1)
                </li>
                <li>
                  <a href="/tags/passenger/">Passenger</a> (1)
                </li>
                <li>
                  <a href="/tags/example/">example</a> (1)
                </li>
                <li>
                  <a href="/tags/middleman/">Middleman</a> (1)
                </li>
                <li>
                  <a href="/tags/octopress/">Octopress</a> (1)
                </li>
                <li>
                  <a href="/tags/rinari/">rinari</a> (1)
                </li>
              </ol>
            </div>
            <div class="gadget" id="twitter">
              <span class="title">ツイート</span><a class="twitter-timeline" data-chrome="noheader noborders transparent" data-widget-id="408280914938982400" href="https://twitter.com/uskanda">Tweets by @uskanda</a>
              <script>
                !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
              </script>
            </div>
            <div class="gadget" id="archives">
              <span class="title">アーカイブ</span>
              <ol></ol>
              <li>
                <a href="/2013/">2013</a> (1)
              </li>
              <li>
                <a href="/2012/">2012</a> (1)
              </li>
              <li>
                <a href="/2011/">2011</a> (6)
              </li>
            </div>
          </aside>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="container">
        <style>
          .blogresponsivewide { width: 320px; height: 50px; }@media(min-width: 500px) { .blogresponsivewide { width: 468px; height: 60px; } }@media(min-width: 800px) { .blogresponsivewide { width: 728px; height: 90px; } }
        </style>
        <script>
          async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
        </script>
        <ins class="adsbygoogle blogresponsivewide" data-ad-client="ca-pub-1385530273298456" data-ad-slot="4816571790" style="display:inline-block"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
      <div class="container">
        &copy; uskanda 2010-2013.
        <div class="pull-right">
          Powered by <a href="http://middlemanapp.com">Middleman</a>.
        </div>
      </div>
    </div>
    <!-- Google Analytics -->
    <script type="text/javascript">
    
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3828545-4']);
      _gaq.push(['_setDomainName', 'uskanda.com']);
      _gaq.push(['_trackPageview']);
    
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    
    </script>
    
  </body>
</html>