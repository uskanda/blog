<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge;chrome=1" http-equiv="X-UA-Compatible" />
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/stylesheets/gits.css" rel="stylesheet" />
    <link href="/stylesheets/syntax.css" rel="stylesheet" />
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.2/js/bootstrap.min.js"></script>
    <title>GHOST IN THE SUIT - Android Marketアプリ登録時の画像アップロード失敗とデベロッパー登録時の留意点</title><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
  </head>
  <body>
    <div class="header">
      <div class="container">
        <h1 class="site_title">
          <a href="/">GHOST IN THE SUIT</a>
        </h1>
        <p>
          Excelの泥にまみれても、こころの奥にgeekの灯を。
        </p>
      </div>
    </div>
    <div class="container main">
      <div class="row">
        <div class="col-sm-9">
          <div id="main" role="main">
            <article>
              <div class="title">
                <div class="subject">
                  Android Marketアプリ登録時の画像アップロード失敗とデベロッパー登録時の留意点
                </div>
                <div class="date">
                  2012-03-03 00:00:00 +0900
                </div>
              </div>
              <div class="body">
                <p>案件でAndroidアプリの受託開発を行なっていて、リリース時にハマったのでログを残しておく。
                お客様は過去、Androidアプリリリースはなかったので、下記順でデベロッパー登録からリリース作業を予定していた。</p>
                
                <ol>
                    <li>Android MarketにGoogleアカウントでログインしてデベロッパー登録(Google Checkoutで$25支払う)</li>
                    <li><a href="https://market.android.com/publish/Home" target="_blank">マーケットのアプリ登録画面</a>から新規アプリを追加、apkをアップロード</li>
                    <li>アプリ説明文を記述、スクリーンショット等の画像をアップロードして公開</li>
                </ol>
                
                <p>しかし、3.でスクリーンショットをアップロードしようとすると</p>
                
                <blockquote>「応答を解析できません。JSON 応答を変更するブラウザ拡張機能やアドオンがインストールされている場合は、 それらを無効にしてからこのページを更新してください。」</blockquote>
                
                <p>というメッセージが出て登録できず&hellip;。
                画像アップロードのAjaxがGoogle側に蹴られているような挙動で、
                ブラウザ・OS・ネットワーク環境を変更しても改善しない。
                理由が思い当たらず途方に暮れていたら、半日ほどして</p>
                
                <blockquote>Android マーケットの登録料の支払いが拒否されました。</blockquote>
                
                <p>とのメッセージがアプリ登録画面に表示された。
                何らかの理由でデベロッパー登録のクレジットカード決済が蹴られていたらしく、
                これが原因で画像アップロードに失敗していたらしいorz</p>
                
                <p>この登録未完了状態でもapkの登録はうまく行ったように見えるし、
                画像のアップロードだけが何らかの理由で失敗したように見えるので予想がつかない。
                Google Checkout(Google Wallet)に移動して問題を解決しろ、と言われるが
                Google Wallet側からも再支払いする方法がなく、このアカウントはマーケットに開発者登録されていながら
                アプリ公開できない中途半端状態に&hellip;</p>
                
                <p>(あとから見るとMarket側のアプリ登録画面から再支払いできるようになっていた。
                 Googleに問い合わせるか、時間を置けば再支払いはできるようだ。)</p>
                
                <p>今回のケースではお客様に別アカウントと別クレジットカードで再登録頂いてなんとかなったのだけど、
                別クレカの登録、Maps API Keyの再取得とapk再生成に時間が必要となってしまった。</p>
                
                <p>なお、正常にクレジットカード登録が終わり、アプリが利用可能となると</p>
                
                <blockquote>Android マーケットへの登録が承認されました。</blockquote>
                
                <p>とメッセージがアプリ登録画面に出現する。以前登録した際は一瞬でこの状態だったので
                注意が向いていなかった&hellip;</p>
                
                <p>今回の教訓はデベロッパー登録をしていない場合、
                <strong>Androidマーケットへのリリース時はデベロッパー登録を必ず先にしておく！</strong>
                ということ。通常でも半日〜１日かかるケースもある等、Google先生の機嫌に左右されて時間がかかるリスクがあるので、
                一週間余裕を持っておいたほうがいいと思う。</p>
                <h3>
                  Comments
                </h3>
                <div aria-live="polite" id="disqus_thread">
                  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                </div>
                <script type="text/javascript">
                  var disqus_shortname = 'ghostinthesuit';
                  var disqus_identifier = "http://blog.uskanda.com/2012/03/03/android-market-image-upload-error/";
                  var disqus_url = 'http://blog.uskanda.com/2012/03/03/android-market-image-upload-error/';
                  var disqus_script = 'embed.js';
                  
                  (function () {
                    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                    dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
                    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
                  }());
                </script>
              </div>
            </article>
          </div>
        </div>
        <div class="col-sm-3">
          <aside>
            <div class="gadget" id="recents">
              <span class="title">最近の投稿</span>
              <ol>
                <li>
                  <a href="/2013/12/05/transfer-from-octopress-to-middleman/">OctopressからMiddlemanに移行した(12/05)</a>
                </li>
                <li>
                  <a href="/2012/06/30/uc-411pbt-c/">「gooからだログ」に体重等自動送信できる体組成計UC-411PBT-Cを使ってみた(06/30)</a>
                </li>
                <li>
                  <a href="/2012/06/18/osx-mouse-tips/">Mac OS Xでマウスを使うとしっくりこない件(06/18)</a>
                </li>
                <li>
                  <a href="/2012/06/18/windows8-manifest-setting-for-compatibility/">Windows8デスクトップアプリでの互換性マニフェスト設定(06/18)</a>
                </li>
                <li>
                  <a href="/2012/06/17/wordpress-with-nginx/">Wordpressをnginx+fastcgiベースに移行した(06/17)</a>
                </li>
                <li>
                  <a href="/2012/06/13/buy-mac-mini/">Mac Mini(Mid2011)を買ってSSD換装したよー＼(^O^)／(06/13)</a>
                </li>
                <li>
                  <a href="/2012/04/29/ubuntu-1204-name-resolve-failed/">Ubuntu 12.04にアップグレードしたら名前解決できなくなった(04/29)</a>
                </li>
                <li>
                  <a href="/2012/04/02/update-rails-without-internet/">オフラインでのRails3アプリ環境の構築(04/02)</a>
                </li>
                <li>
                  <a href="/2012/03/03/android-market-image-upload-error/">Android Marketアプリ登録時の画像アップロード失敗とデベロッパー登録時の留意点(03/03)</a>
                </li>
                <li>
                  <a href="/2012/02/09/emacs-markdown-mode-preview-ja/">markdown-modeのプレビューで日本語が消える(02/09)</a>
                </li>
              </ol>
            </div>
            <div class="gadget" id="adsense">
              <script>
                async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
              </script>
              <ins class="adsbygoogle" data-ad-client="ca-pub-1385530273298456" data-ad-slot="9191807793" style="display:inline-block;width:200px;height:200px"></ins>
              <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
            </div>
            <div class="gadget" id="tags">
              <span class="title">タグ一覧</span>
              <ol>
                <li>
                  <a href="/tags/nginx/">nginx</a> (1)
                </li>
                <li>
                  <a href="/tags/ubuntu/">Ubuntu</a> (2)
                </li>
                <li>
                  <a href="/tags/server/">Server</a> (2)
                </li>
                <li>
                  <a href="/tags/mac/">Mac</a> (2)
                </li>
                <li>
                  <a href="/tags/mouse/">Mouse</a> (1)
                </li>
                <li>
                  <a href="/tags/logicool/">Logicool</a> (1)
                </li>
                <li>
                  <a href="/tags/開発/">開発</a> (1)
                </li>
                <li>
                  <a href="/tags/rails/">Rails</a> (1)
                </li>
                <li>
                  <a href="/tags/middleman/">Middleman</a> (1)
                </li>
                <li>
                  <a href="/tags/octopress/">Octopress</a> (1)
                </li>
                <li>
                  <a href="/tags/ruby/">Ruby</a> (5)
                </li>
                <li>
                  <a href="/tags/ruby-on-rails/">Ruby on Rails</a> (3)
                </li>
                <li>
                  <a href="/tags/rvm/">RVM</a> (1)
                </li>
                <li>
                  <a href="/tags/passenger/">Passenger</a> (1)
                </li>
                <li>
                  <a href="/tags/windows/">Windows</a> (1)
                </li>
                <li>
                  <a href="/tags/日々/">日々</a> (1)
                </li>
                <li>
                  <a href="/tags/book/">Book</a> (1)
                </li>
                <li>
                  <a href="/tags/emacs/">Emacs</a> (4)
                </li>
                <li>
                  <a href="/tags/macmini/">MacMini</a> (1)
                </li>
                <li>
                  <a href="/tags/ssd/">SSD</a> (1)
                </li>
                <li>
                  <a href="/tags/review/">Review</a> (1)
                </li>
                <li>
                  <a href="/tags/uc-411pbt-c/">UC-411PBT-C</a> (1)
                </li>
                <li>
                  <a href="/tags/goo/">goo</a> (1)
                </li>
                <li>
                  <a href="/tags/anything-el/">anything.el</a> (1)
                </li>
                <li>
                  <a href="/tags/rinari/">rinari</a> (1)
                </li>
              </ol>
            </div>
            <div class="gadget" id="twitter">
              <span class="title">ツイート</span><a class="twitter-timeline" data-chrome="noheader noborders transparent" data-widget-id="408280914938982400" href="https://twitter.com/uskanda">Tweets by @uskanda</a>
              <script>
                !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
              </script>
            </div>
            <div class="gadget" id="archives">
              <span class="title">アーカイブ</span>
              <ol></ol>
              <li>
                <a href="/2013/">2013</a> (1)
              </li>
              <li>
                <a href="/2012/">2012</a> (10)
              </li>
              <li>
                <a href="/2011/">2011</a> (8)
              </li>
            </div>
          </aside>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="container">
        <style>
          .blogresponsivewide { width: 320px; height: 50px; }@media(min-width: 500px) { .blogresponsivewide { width: 468px; height: 60px; } }@media(min-width: 800px) { .blogresponsivewide { width: 728px; height: 90px; } }
        </style>
        <script>
          async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
        </script>
        <ins class="adsbygoogle blogresponsivewide" data-ad-client="ca-pub-1385530273298456" data-ad-slot="4816571790" style="display:inline-block"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      </div>
      <div class="container">
        &copy; uskanda 2010-2013.
        <div class="pull-right">
          Powered by <a href="http://middlemanapp.com">Middleman</a>.
        </div>
      </div>
    </div>
    <!-- Google Analytics -->
    <script type="text/javascript">
    
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3828545-4']);
      _gaq.push(['_setDomainName', 'uskanda.com']);
      _gaq.push(['_trackPageview']);
    
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    
    </script>
    
  </body>
</html>